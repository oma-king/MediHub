<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add Consultation Form</title>
</head>
<body>
<h2>Add Consultation Form</h2>
<form id="addConsultationForm">
    <label for="medicalFileId">Medical File ID:</label>
    <input type="text" id="medicalFileId" name="medicalFileId" required><br><br>

    <label for="doctorId">Doctor ID:</label>
    <input type="text" id="doctorId" name="doctorId" required><br><br>

    <label for="reason">Reason:</label>
    <input type="text" id="reason" name="reason" required><br><br>

    <label for="description">Description:</label>
    <input type="text" id="description" name="description" required><br><br>

    <label for="consultationDate">Consultation Date:</label>
    <input type="date" id="consultationDate" name="consultationDate" required><br><br>

    <label for="consultationTime">Consultation Time:</label>
    <input type="time" id="consultationTime" name="consultationTime" required><br><br>

    <label for="price">Price:</label>
    <input type="number" id="price" name="price" required><br><br>

    <button type="submit">Add Consultation</button>
</form>

<script>
    document.getElementById("addConsultationForm").addEventListener("submit", function(event) {
        event.preventDefault(); // Prevent default form submission

        // Collect form data
        var formData = {
            medicalFileId: document.getElementById("medicalFileId").value,
            doctorId: document.getElementById("doctorId").value,
            reason: document.getElementById("reason").value,
            description: document.getElementById("description").value,
            consultationDate: document.getElementById("consultationDate").value,
            consultationTime: document.getElementById("consultationTime").value,
            price: parseFloat(document.getElementById("price").value) // Convert to number
        };

        // Send data to backend via AJAX
        fetch('/addConsultation', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(formData)
        })
            .then(response => response.text())
            .then(message => {
                alert(message); // Show success message
                // Optionally redirect or perform other actions after adding consultation
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Failed to add consultation');
            });
    });
</script>
</body>
</html>
